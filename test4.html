<!-- HTML -->
<html>
<head>
    <!-- Load the Plotly.js library -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<!-- Create a container for the Plotly chart -->
<div id="myChart"></div>
<!-- Include the JavaScript code that generates the chart -->
<script src="false-position.js"></script>
</body>
</html>
<script>
    // JavaScript

    // Define the function whose root we want to find
    function f(x) {
        return x*Math.exp(x) -2 ;
    }

    // Define the false position function
    function falsePosition(f, a, b, tol) {
        // Initialize the midpoint and the function values at the endpoints
        let c = (a * f(b) - b * f(a)) / (f(b) - f(a));
        let fa = f(a);
        let fc = f(c);

        // Initialize the number of iterations
        let i = 0;

        // Iterate until the tolerance is reached or the maximum number of iterations is reached
        while (Math.abs(fc) > tol && i < 100) {
            // Update the midpoint and the function values at the endpoints
            c = (a * f(b) - b * f(a)) / (f(b) - f(a));
            fa = f(a);
            fc = f(c);

            // Check if the root is between a and c or between c and b
            if (fa * fc < 0) {
                b = c;
            } else {
                a = c;
            }

            // Increment the iteration counter
            i++;
        }

        // Return the root
        return c;
    }

    // Find the root of the equation x^3 - 5x + 1 = 0
    let root = falsePosition(f, 0, 2, 1e-3);
    console.log(root);

    // Generate a Plotly chart that illustrates the false position method
    let x = [];
    let y = [];

    for (let i = 0; i < 2; i += 0.01) {
        x.push(i);
        y.push(f(i));
    }

    let data = [
        {
            x: x,
            y: y,
            type: 'scatter'
        }
    ];

    let layout = {
        title: 'Maxotov Agzam - 2 | b | ii',
        xaxis: {
            range: [0, 5]
        },
        yaxis: {
            range: [-5, 5]
        }
    };

    Plotly.newPlot('myChart', data, layout);

</script>